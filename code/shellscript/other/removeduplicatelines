# Does not preserve order
# but there is a nice new version with extension po which does
# using sort...

# Apparently sed can do it like this: sed '$!N; /^\(.*\)\n\1$/!P; D'
# and there is also "uniq"

if test "$1" == "--help" || test "$1" == "-h"; then
	echo "Use -adj to preserve order if you know duplicates will appear adjacent to each other anyway."
	exit 0
fi

SORT="sort"
if test "$1" = "-adj"; then
	SORT="cat"
fi

Y="what would be a non-existent string, if such a string was possible"
cat "$@" |
    sort |
    while read X; do
        if test ! "$X" = "$Y"; then
            echo "$X"
            Y="$X"
        fi
    done
