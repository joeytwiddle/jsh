# jsh-depends: bounce
# Does not preserve order
# but there is a nice new version with extension po which does
# using sort...

# Apparently sed can do it like this: sed '$!N; /^\(.*\)\n\1$/!P; D'
# and there is also "uniq"

## TODO: at some point check whether sort's -u option might make removeduplicatelines or keepduplicatelines or something else faster...

if [ "$1" = "--help" ] || [ "$1" = "-h" ]
then
	echo "Use -adj to preserve order if you know duplicates will appear adjacent to each other anyway."
	exit 0
fi

SORT="sort"
if [ "$1" = "-adj" ]
then SORT="cat"
fi

Y="what would be a non-existent string, if such a string was possible"
cat "$@" |
$SORT |
while read X
do
  if [ ! "$X" = "$Y" ]
  then
      bounce "$X"
      Y="$X"
  fi
done
