if test "$1" = ""; then
	(
	echo "mykillps [-x] <searchstring>"
	echo "  will kill all processes whose name contains <searchstring>"
	echo "  -x will kill all processes with <searchstring> anywhere in the call!"
	) > /dev/stderr
	exit 1
fi
FORMAT="pid,user,comm"
if test "$1" = "-x"; then
	FORMAT="pid,user,args"
	shift
fi
ps -A -o "$FORMAT" | grep "$*" |
	# Hide this shell (with $@ passed as args!)
	grep -v "^$$ " |
	# Hide the first grep (with $@ passed as args!) and yourself
	grep -v "grep $*"
