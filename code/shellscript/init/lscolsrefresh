## Processes ~/.dircolors to create or update the cachefile for lscolsinit.
## Source lscolsinit to load the changes into the shell.
## Remove the cachefile ~/.lscols for auto-updates (slower).

FILE="$HOME/.dircolors"
# If they don't already have a colour scheme
if [ ! -f "$FILE" ]
then
	# Try using Joey's setting
	if [ -f "$JPATH/code/home/.dircolors" ]
	then
		FILE="$JPATH/code/home/.dircolors"
	# Otherwise generate default
	else
		echo "I am generating default ls colour settings in $FILE"
		echo "Change it if you want funkier colours."
		dircolors -p > "$FILE"
	fi
fi
dircolors "$FILE" > $HOME/.lscols
